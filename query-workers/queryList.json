[{"_key":"T-0JXvgJwTIMmU2k6ExEllI-.root.T-0JXvgJwTIMmU2k6ExEllI-.Europe.getSessionId","fabric":"T-0JXvgJwTIMmU2k6ExEllI-.Europe","name":"getSessionId","parameter":{"sessionId":""},"tenant":"T-0JXvgJwTIMmU2k6ExEllI-","type":"c8ql","userid":"T-0JXvgJwTIMmU2k6ExEllI-.root","value":"// lets return value assigned to this sessionId key\nRETURN DOCUMENT(\"sessionIds\", @sessionId)"},{"_key":"T-0JXvgJwTIMmU2k6ExEllI-.root.T-0JXvgJwTIMmU2k6ExEllI-.Europe.createSessionId","fabric":"T-0JXvgJwTIMmU2k6ExEllI-.Europe","name":"createSessionId","parameter":{"input":"{\"test\":\"btimebla\"}"},"tenant":"T-0JXvgJwTIMmU2k6ExEllI-","type":"c8ql","userid":"T-0JXvgJwTIMmU2k6ExEllI-.root","value":"// first check if our input is an object, if not just create an empty object\nLET input = IS_OBJECT(@input) ? @input : {}\n\n// create a UUID used as key in our key-value store\nLET key = UUID()\n\n// how long do we want to keep this key\nLET interval = 1\n\n// create our new object we're going to insert\nLET value = {\n    date: DATE_NOW(),\n    input: input\n}\n\n// now insert this data into our kv collection and return inserted results\nINSERT {\n    \"_key\": key,\n    \"expireAt\": ROUND(DATE_TIMESTAMP(DATE_ADD(DATE_NOW(), interval, \"day\"))/1000),\n    \"value\": value\n} INTO sessionIds\nLET inserted = NEW\nRETURN inserted"}]